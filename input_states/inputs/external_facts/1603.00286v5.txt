Most theoretical works on fair resource allocation consider a one-shot division: the resource is divided once and for all, like a cake that is divided and eaten soon after it comes out of the oven. But in practice, it is often required to re-divide an already-divided resource(see subsection 7.1). One example is a cloud-computing environment, where new agents come and require resources held by other agents. A second example is fair allocation of radio spectrum among several broadcasting agencies: it may be required to re-divide the frequencies to accommodate new broadcasters. A third example is land-reform: large land-estates are held by a small number of landlords, and the government may want to re-divide them to landless citizens.

In the classic one-shot division setting, there are nğ‘›n agents with equal rights, and the goal is to give each agent a fair share of the cake. A common definition of a â€œfair shareâ€ is a piece worth at least 1/n1ğ‘›1/n of the total cake value, according to the agentâ€™s personal valuation function. This fairness requirement is usually termed proportionality. When proportionality cannot be attained, it is often (see subsection 7.2) relaxed to rğ‘Ÿr-proportionality, where râˆˆ(0,1)ğ‘Ÿ01r\in(0,1) is a constant independent of nğ‘›n, which means that each agent receives at least a fraction r/nğ‘Ÿğ‘›r/n of the total.

In contrast, in the re-division setting, there is an existing allocation of the cake among the nğ‘›n agents. This allocation is not necessarily fair; in particular, there may be some agents who do not have any cake. When the cake is re-divided, it may be required to give extra rights to current holders. In particular, it may be required to give each agent the opportunity to keep a substantial fraction of their current value. This may be due either to efficiency reasons (in the cloud computing scenario) or economic reasons (in the radio spectrum scenario) or political reasons (in the land-reform scenario).This requirement will be called ownership. Given a constant wâˆˆ(0,1)ğ‘¤01w\in(0,1),wğ‘¤w-ownership means that each agent receives at least wğ‘¤w times their old value.What levels of proportionality and ownership can be attained simultaneously?

The first two results (in Section 3) provide a tight answer to this question.

As an example, taking r=w=1/2ğ‘Ÿğ‘¤12r=w=1/2, it is possible to re-divide the cake, giving each agent at least half their previous value, while simultaneously giving each agent at least 1/(2â€‹n)12ğ‘›1/(2n) of the total cake value.

The parameters r,wğ‘Ÿğ‘¤r,w represent the level of balance between two principles: large rğ‘Ÿr means more emphasis on fairness while large wğ‘¤w means more emphasis on ownership rights.The above theorems imply that the re-dividers (e.g. the government)may choose any level offairness and ownership-rights that fit their ideological, political or economic goals, as long as the sum of these fractions is at most 1.

The balance parameters can also be given probabilistic interpretation. Suppose the government wants to do a land reform and needs the agreement of the current landowners. Naturally, the current landowners do not want to give away their lands. However, they may fear that, without land-reform, the landless citizens might revolt and they might lose all their lands. If the landowners believe that the probability of a successful revolt is 1âˆ’w1ğ‘¤1-w, then they may agree to a land-reform that guarantees wğ‘¤w-ownership. Theorem 1.1 implies that, in this case, it is possible to carry out a land-reform that guarantees (1âˆ’w)1ğ‘¤(1-w)-proportionality.

While Theorem 1.1 is encouraging, it ignores an important aspect of practical division problems: geometry. The division it guarantees may be highly fractioned, giving each agent a large number of disconnected pieces. In many practical division problems, e.g. when the resource to divide is time, the agents may need to receive a single connected piece rather than a large number of disconnected ones. Can partial-proportionality and partial-ownership be attained simultaneously with a connectivity constraint? The following proposition (proved in Section 4) answers this question negatively.

The latter part of the proposition involves a fairness property much weaker than proportionality, that can be termedpositivityâ€”guaranteeing each agent a piece with a positive value.With the connectivity constraint, even this weak fairness requirement is incompatible with wğ‘¤w-ownership for every constant w>0ğ‘¤0w>0: a positive division might require to give one agent at most 1/n1ğ‘›1/n of their previous value, give two agents at most 2/n2ğ‘›2/n of their previous value, give n/3ğ‘›3n/3 agents at most 1/3131/3 of their previous value, etc.

Proposition 2 motivates the following weaker ownership requirement: for every dğ‘‘d, at least nâˆ’dğ‘›ğ‘‘n-d agents receive at least a fraction 1/âŒŠndâŒ‹1ğ‘›ğ‘‘1/\lfloor{n\over d}\rfloor of their old value. For example (taking d=n/3ğ‘‘ğ‘›3d=n/3 and assuming all quotients are integers), at least 2â€‹n/32ğ‘›32n/3 agents should receive at least 1/3131/3 of their old value.This criterion is inspired by the â€œ90th percentileâ€ criterion common in Service-Level-Agreements and Quality-of-Service analysis, e.g. (Zhang et al., 2014; Delimitrou andKozyrakis, 2014). It can also be justified by political reasoning: in a democratic country, it may be sufficient to win the support of a sufficiently large majority.

The following results almost match this relaxed ownership criterion. Formally, let us define the democratic ownership property as follows: for every integer dâˆˆ{1,â€¦,nâˆ’1}ğ‘‘1â€¦ğ‘›1d\in\{1,\dots,n-1\}, at least nâˆ’dğ‘›ğ‘‘n-d agents receive more than a fraction 1/âŒˆndâŒ‰1ğ‘›ğ‘‘1/\lceil{n\over d}\rceil of their previous value.Democratic-ownership corresponds to the best guarantee one could hope for given Proposition 2; the only difference is thatin the upper bound the fraction is rounded down (1/âŒŠndâŒ‹1ğ‘›ğ‘‘1/\lfloor{n\over d}\rfloor) while in democratic-ownership the fraction is rounded up.

It is an open question whether democratic-ownership is compatible with rğ‘Ÿr-proportionality for some constant r>1/2ğ‘Ÿ12r>1/2.

Theorem 1.2, like most works in cake-cutting, assumes that the cake is 1-dimensional. In realistic division scenarios, the cake is often 2-dimensional and the pieces should have a pre-specified geometric shape, such as a rectangle or a convex polygon. Rectangularity and convexity requirements are sensible when dividing land, exhibition space in museums, advertisement space in newspapers and even virtual space in web-pages. Moreover, in the frequency-range allocation problem, it is possible to allocate frequency ranges for a limited time-period; the frequency-time space is two-dimensional and it makes sense to require that the â€œpiecesâ€ are rectangles in this space (Iyer and Huhns, 2009).

2-dimensional cake-cutting introduces new challenges over the traditional 1-dimensional setting. As an example, in one dimension, it can be assumed that the initial allocation is a partition of the entire cake; this is without loss of generality, since any â€œblankâ€ (unallocated part) can be attached to a neighboring allocated interval without harming its shape or value. However, in two dimensions, the initial allocation might contain blanks that cannot be attached to any allocated piece due to the rectangularity or convexity constraints. For example,suppose the cake is the large rectangle in Figure 1.

There are 4 agents and each agent iğ‘–i has positive value-density only inside the rectangle Zisubscriptğ‘ğ‘–Z_{i}. The most reasonable division (e.g. the only Pareto-efficient division) is to give each Zisubscriptğ‘ğ‘–Z_{i} entirely to agent iğ‘–i. But, this allocation leaves a blank in the center of the cake, and this blank cannot be attached to any allocated piece due to the rectangularity constraint.This counter-intuitive scenario cannot happen in a one-dimensional cake. Handling such cases requires new geometry-based tools. With such tools, the redivision problem can be solved in two common 2-dimensional settings (Section 5):

Most land-estates are not exact rectangles, but they can be approximated by arectilinear polygonâ€”a polygon in which all angles are 90âˆ˜superscript9090^{\circ} or 270âˆ˜superscript270270^{\circ}.The next result generalizes Theorem 1.3 to a rectilinear polygonal cake.The complexity of a rectilinear polygon is characterized by the number of its reflex verticesâ€”vertices with a 270âˆ˜superscript270270^{\circ} angle. Denote this number by Tğ‘‡T. A rectangleâ€”the simplest rectilinear polygonâ€”has T=0ğ‘‡0T=0. The cake in Figure 2 has T=4ğ‘‡4T=4.

The dependence on Tğ‘‡T is necessary: even without ownership requirements, there are instances in which it is impossible to guarantee a fraction of more than 1/(n+T)1ğ‘›ğ‘‡1/(n+T) to all nğ‘›n agents (Segal-Halevi, 2021).

Redivision algorithms can be used not only to compromise between old and new agents, but also to compromise between fairness and efficiency. Often, the most economically-efficient allocation is not fair, while a fair allocation is not economically-efficient. The trade-off between fairness and efficiency is quantified by the price-of-fairness (Bertsimas et al., 2011, 2012; Caragiannis et al., 2012; Aumann and Dombb, 2015). It is defined as the worst-case ratio of the maximum attainable social-welfare to the maximum attainable social-welfare of a fair allocation. The social welfare is usually defined as the arithmetic mean of the agentsâ€™ values (also called utilitarian welfare) or their geometric mean (also called Nash welfare; see Moulin (2004)).

A redivision algorithm can be used to calculate an upper bound on the price of fairness in the following way. Take a welfare-maximizing allocation as the initial allocation; use a redivision algorithm to produce a partially-proportional allocation in which the utility of each agent is close to their initial utility; conclude that the new welfare is close to the initial (maximal) welfare.

Without geometric constraints, the following is an upper bound on the price-of-fairness w.r.t. utilitarian welfare.222The price-of-fairness of rğ‘Ÿr-proportionality w.r.t. the Nash welfare is 111 for all râ‰¤1ğ‘Ÿ1r\leq 1, since any Nash-optimal cake allocation is proportional (Sziklai andSegal-Halevi, 2019).

When r=1ğ‘Ÿ1r=1 the above bound is infinite, and indeed, the price of 1-proportionality in this setting is Î˜â€‹(n)Î˜ğ‘›\Theta(\sqrt{n}), which is not bounded by any constant(Caragiannis et al., 2012). Theorem 1.6 shows that a small compromise on the level of proportionality allows a constant (independent of nğ‘›n) bound on the utilitarian-price. The parameter rğ‘Ÿr sets the level of trade-off between fairness and efficiency.

With geometric constraints, the following upper bounds are proved:

Note that the first claim in Theorem 1.7 is subsumed by Aumann and Dombb (2015), who prove that the utilitarian-price of 1-proportionality in this setting is Î˜â€‹(n)Î˜ğ‘›\Theta(\sqrt{n}). It is brought here only for completeness. The second claim in that theorem, as well as the following theorems regarding two-dimensional constraints, are not implied by previous results.

Appendix A partially complements the above results by showing some lower bounds on the price of fairness with interval cake and interval pieces:â€¢With two agents, for all râˆˆ[0,1]ğ‘Ÿ01r\in[0,1], the utilitarian price of rğ‘Ÿr-proportionality is 1+r/21ğ‘Ÿ21+r/2 and the Nash price of rğ‘Ÿr-proportionalityis maxâ¡(1,2â€‹r)12ğ‘Ÿ\max(1,\sqrt{2r}).â€¢With nğ‘›n agents, there is a lower bound on the Nash price of proportionality, which approaches 222 as nâ†’âˆâ†’ğ‘›n\to\infty.Computing the exact utilitarian price and Nash price of rğ‘Ÿr-proportionality for any nâ‰¥2ğ‘›2n\geq 2 and râ‰¤1ğ‘Ÿ1r\leq 1 in this setting remains an open question.

The cake Cğ¶C is a polytope in the dğ‘‘d-dimensional Euclidean plane â„dsuperscriptâ„ğ‘‘\mathbb{R}^{d}. This paper focuses on the common cases in which d=1ğ‘‘1d=1 and Cğ¶C is an interval, or d=2ğ‘‘2d=2 and Cğ¶C is a polygon. A piece is a Borel subset of Cğ¶C; usually an interval or a polygon.

Cğ¶C has to be divided among nâ‰¥1ğ‘›1n\geq 1 agents.We denote by [n]delimited-[]ğ‘›[n] the set of integers {1,â€¦,n}1â€¦ğ‘›\{1,\ldots,n\}.Each agent iâˆˆ[n]ğ‘–delimited-[]ğ‘›i\in[n] has a value-density function visubscriptğ‘£ğ‘–v_{i}, which is an integrable, non-negative and bounded function on Cğ¶C. The value of a piece Xisubscriptğ‘‹ğ‘–X_{i} to agent iğ‘–i is marked by Viâ€‹(Xi)subscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–V_{i}(X_{i}) and it is the integral of its value-density:Viâ€‹(Xi)=âˆ«xâˆˆXiviâ€‹(x)â€‹ğ‘‘xsubscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–subscriptğ‘¥subscriptğ‘‹ğ‘–subscriptğ‘£ğ‘–ğ‘¥differential-dğ‘¥V_{i}(X_{i})=\int_{x\in X_{i}}v_{i}(x)dx.The definition implies that the Visubscriptğ‘‰ğ‘–V_{i} are finite measures and are absolutely-continuous with respect to the Lebesgue measure, i.e., any piece with zero area has zero value to all agents.

Division algorithms access the value measures via queries (Robertson andWebb, 1998; Woeginger andSgall, 2007): an eval query asks an agent to report the value of a specified piece of cake; a mark query asks an agent to mark a piece of cake with a specified value.333It is often called a cut query, but the term mark query better differentiates query answers from actual cuts through the cake.The present paper ignores strategic considerations and assumes that agents answer truthfully. Indeed, in general it may be impossible to build a cake-cutting algorithm that is both fair and strategy-proof (BrÃ¢nzei andMiltersen, 2015).

The geometric constraints, if any, are represented by a pre-specified family Sğ‘†S of usable pieces. In this paper, Sğ‘†S will either be the set of all pieces (which means that there are no geometric constraints), or the set of all intervals, or the set of all rectangles, or the set of all convex pieces. It is assumed that each agent can use only a single piece from the family Sğ‘†S.

An allocation is a vector of nğ‘›n pieces, ğ—=(X1,â€¦,Xn)ğ—subscriptğ‘‹1â€¦subscriptğ‘‹ğ‘›\mathbf{X}=(X_{1},\dots,X_{n}), one piece per agent, such that the Xisubscriptğ‘‹ğ‘–X_{i} are pairwise-disjoint andX1âŠ”â‹¯âŠ”XnâŠ†Csquare-unionsubscriptğ‘‹1â‹¯subscriptğ‘‹ğ‘›ğ¶X_{1}\sqcup\cdots\sqcup X_{n}\subseteq C.444The symbol âŠ”square-union\sqcup denotes disjoint unionâ€”it emphasizes that the pieces X1,â€¦,Xnsubscriptğ‘‹1â€¦subscriptğ‘‹ğ‘›X_{1},\ldots,X_{n} are pairwise-disjoint.Note that some cake may remain unallocated, i.e, free disposal is assumed. As illustrated in the introduction, free disposal may be necessary when there are geometric constraints. An Sğ‘†S-allocation is an allocation in which all pieces are usable, i.e, XiâˆˆSsubscriptğ‘‹ğ‘–ğ‘†X_{i}\in S for each agent iğ‘–i.

For every constant râˆˆ[0,1]ğ‘Ÿ01r\in[0,1], an allocation ğ—ğ—\mathbf{X} is called rğ‘Ÿr-proportional if every agent receives at least r/nğ‘Ÿğ‘›r/n of the total cake value:For allÂ â€‹iâˆˆ[n]::For allÂ ğ‘–delimited-[]ğ‘›absent\displaystyle\text{For all~{}}i\in[n]:Viâ€‹(Xi)â‰¥(r/n)â‹…Viâ€‹(C)subscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–â‹…ğ‘Ÿğ‘›subscriptğ‘‰ğ‘–ğ¶\displaystyle V_{i}(X_{i})\geq{(r/n)}\cdot V_{i}(C)A 1-proportional division is also known as proportional.

There is an existing Sğ‘†S-allocation of the cake, Z1âŠ”â‹¯âŠ”ZnâŠ†Csquare-unionsubscriptğ‘1â‹¯subscriptğ‘ğ‘›ğ¶Z_{1}\sqcup\dots\sqcup Z_{n}\subseteq C. It is assumed that the old pieces Zjsubscriptğ‘ğ‘—Z_{j} are pairwise-disjoint and that ZjâˆˆSsubscriptğ‘ğ‘—ğ‘†Z_{j}\in S for all jğ‘—j, but nothing else is assumed on the division. In particular, the initial division is not necessarily proportional, and some of Cğ¶C may be unallocated.

It is required to construct a new Sğ‘†S-allocationX1âŠ”â‹¯âŠ”XnâŠ†Csquare-unionsubscriptğ‘‹1â‹¯subscriptğ‘‹ğ‘›ğ¶X_{1}\sqcup\cdots\sqcup X_{n}\subseteq C.The re-allocation satisfies the wğ‘¤w-ownership property, for some constant wâˆˆ(0,1)ğ‘¤01w\in(0,1), if every agent receivesat least a fraction wğ‘¤w of their old value:

For allÂ â€‹jâˆˆ[n]::For allÂ ğ‘—delimited-[]ğ‘›absent\displaystyle\text{For all~{}}j\in[n]:Vjâ€‹(Xj)â‰¥wâ‹…Vjâ€‹(Zj)subscriptğ‘‰ğ‘—subscriptğ‘‹ğ‘—â‹…ğ‘¤subscriptğ‘‰ğ‘—subscriptğ‘ğ‘—\displaystyle V_{j}(X_{j})\geq w\cdot V_{j}(Z_{j})Since wğ‘¤w-ownership is not always compatible with rğ‘Ÿr-proportionality for any constant r>0ğ‘Ÿ0r>0, the following weaker property is defined. A re-allocation ğ—ğ—\mathbf{X} satisfies the democratic-ownership property if, for every dâˆˆ{1,â€¦,nâˆ’1}ğ‘‘1â€¦ğ‘›1d\in\{1,\dots,n-1\}, there are at least nâˆ’dğ‘›ğ‘‘n-d agents jâˆˆ[n]ğ‘—delimited-[]ğ‘›j\in[n] for whom

Vjâ€‹(Xj)>1âŒˆn/dâŒ‰â‹…Vjâ€‹(Zj).subscriptğ‘‰ğ‘—subscriptğ‘‹ğ‘—â‹…1ğ‘›ğ‘‘subscriptğ‘‰ğ‘—subscriptğ‘ğ‘—\displaystyle V_{j}(X_{j})>\frac{1}{\lceil n/d\rceil}\cdot V_{j}(Z_{j}).

In addition to fairness, it is often required that a division has a high social welfare. The social welfare of an allocation is a certain aggregate function of the normalized values of the agents (the normalized value is the piece value divided by the total cake value).Common social welfare functions aresum (utilitarian) and product (Nash), see Moulin (2004).When calculating the welfare, it is convenient to normalize the values such thatthe proportional share of an agent corresponds to a value of 111(so receiving the entire cake corresponds to a value of nğ‘›n). This way, when all agents receive exactly their proportional share, the welfare is 111.â€¢Utilitarian welfareâ€”the arithmetic mean of the agentsâ€™ normalized valuesWuâ€‹tâ€‹iâ€‹lâ€‹(ğ—)=1nâ€‹âˆ‘i=1nViâ€‹(Xi)Viâ€‹(C)/nsubscriptğ‘Šğ‘¢ğ‘¡ğ‘–ğ‘™ğ—1ğ‘›superscriptsubscriptğ‘–1ğ‘›subscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–subscriptğ‘‰ğ‘–ğ¶ğ‘›\displaystyle W_{util}(\mathbf{X})=\frac{1}{n}\sum_{i=1}^{n}\frac{V_{i}(X_{i})}{V_{i}(C)/n}â€¢Nash welfareâ€”the geometric mean of the agentsâ€™ normalized values:WNâ€‹aâ€‹sâ€‹hâ€‹(ğ—)=(âˆi=1nViâ€‹(Xi)Viâ€‹(C)/n)1/nsubscriptğ‘Šğ‘ğ‘ğ‘ â„ğ—superscriptsuperscriptsubscriptproductğ‘–1ğ‘›subscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–subscriptğ‘‰ğ‘–ğ¶ğ‘›1ğ‘›\displaystyle W_{Nash}(\mathbf{X})=\left(\prod_{i=1}^{n}\frac{V_{i}(X_{i})}{V_{i}(C)/n}\right)^{1/n}The goal of maximizing the social welfare is not always compatible with the goal of guaranteeing a fair share to every agent. For example, Caragiannis et al. (2012) describe a simple example in which the maximum utilitarian welfare of a proportional allocation is in 111 while the maximum utilitarian welfare of an arbitrary (unfair) allocation is in Î©â€‹(n)Î©ğ‘›\Omega(\sqrt{n}). This means that society has to pay a price, in terms of social-welfare, for insisting on fairness. This is called the price of fairness. Formally, given a social welfare function Wğ‘ŠW and a fairness criterion Fğ¹F, the price-of-fairness relative to Wğ‘ŠW and Fğ¹F (also called: â€œthe Wğ‘ŠW-price-of-Fğ¹Fâ€) is the ratio:

supğ—Wâ€‹(ğ—)supğ˜âˆˆFWâ€‹(ğ˜)subscriptsupremumğ—ğ‘Šğ—subscriptsupremumğ˜ğ¹ğ‘Šğ˜\displaystyle\frac{\sup_{\mathbf{X}}W(\mathbf{X})}{\sup_{\mathbf{Y}\in F}W(\mathbf{Y})}(*)where the supremum at the numerator is over all allocations ğ—ğ—\mathbf{X} and the supremum at the denominator is over all allocations ğ˜ğ˜\mathbf{Y} that also satisfy the fairness criterion Fğ¹F. The cited example shows that the utilitarian/price/of/proportionality is in Î©â€‹(n)Î©ğ‘›\Omega(\sqrt{n}).

When there are geometric constraints, they affect both the numerator and the denominator of (*), i.e, the suprema are taken only on Sğ‘†S-allocations. Therefore, it is not a-priori clear whether the price-of-fairness with constraints is higher or lower than without constraints.

In this section there are no geometric constraints on the cake or its pieces.Consider the negative result first.

The proof of the matching positive result requires a lemma.

In this section the cake is an interval and each piece must be an interval.Consider the negative result first.

The corresponding positive result (Theorem 1.2) uses an algorithm for a different problem: fair multicake cutting.In this problem,there is a multicake Cğ¶C, which is a union of mğ‘šm pairwise-disjoint subcakes, C=Z1âŠ”â‹¯âŠ”Zmğ¶square-unionsubscriptğ‘1â‹¯subscriptğ‘ğ‘šC=Z_{1}\sqcup\cdots\sqcup Z_{m}.The goal is to give each agenta piece contained in a single subcake.It is easy to see that a proportional allocation might not exist even for a single agent.However, there always exists an allocation (X1,â€¦,Xn)subscriptğ‘‹1â€¦subscriptğ‘‹ğ‘›(X_{1},\ldots,X_{n}) such that

Viâ€‹(Xi)â‰¥1m+nâˆ’1â‹…Viâ€‹(C),subscriptğ‘‰ğ‘–subscriptğ‘‹ğ‘–â‹…1ğ‘šğ‘›1subscriptğ‘‰ğ‘–ğ¶\displaystyle V_{i}(X_{i})\geq\frac{1}{m+n-1}\cdot V_{i}(C),(1)and this is the largest fraction that can be guaranteed (Segal-Halevi, 2021).555Consider mğ‘šm subcakes and nğ‘›n agents with the same valuation, who value the entire multicake at m+nâˆ’1ğ‘šğ‘›1m+n-1.Suppose the value of each subcake jğ‘—j (for all agents) is some integer ujâ‰¥1subscriptğ‘¢ğ‘—1u_{j}\geq 1.If some subcake is not allocated to any agent, then the multicake can be reduced to a smaller one with mâ€²:=mâˆ’1assignsuperscriptğ‘šâ€²ğ‘š1m^{\prime}:=m-1 subcakes, which all agents value at most mâ€²+nâˆ’1superscriptğ‘šâ€²ğ‘›1m^{\prime}+n-1. So suppose each subcake is allocated to at least one agent.Define the surplus of each subcake as ujsubscriptğ‘¢ğ‘—u_{j} minus the number of agents who are allocated a piece in that subcake. The total surplus is (m+nâˆ’1)âˆ’n=mâˆ’1ğ‘šğ‘›1ğ‘›ğ‘š1(m+n-1)-n=m-1, so at least one subcake j0subscriptğ‘—0j_{0} must have a surplus of at most 00. At least one of the uj0subscriptğ‘¢subscriptğ‘—0u_{j_{0}} agents allocated a piece in subcake j0subscriptğ‘—0j_{0} has a value of at most 111.Below, a different algorithm is presented, that attains the same value guarantee (1), and simultaneously guarantees democratic ownership.

The algorithm uses as a subroutine Algorithm 2, which is called an â€œauctionâ€.It accepts as input a subcake Z0subscriptğ‘0Z_{0} and a set Nğ‘N of agents.Each agent iğ‘–i â€œbidsâ€ by evaluating Z0subscriptğ‘0Z_{0}.The auction then chooses a subset WâŠ†Nğ‘Šğ‘W\subseteq N of â€œwinnersâ€.The criterion for selecting the set of winners is specified by the following lemma.

Note that Lemma 2 allows the set of winners Wğ‘ŠW to be empty, if all agents in Nğ‘N value Z0subscriptğ‘0Z_{0} at less than 111.

Before proving Theorem 1.2, let us consider a simpler warm-up algorithm that attains only the partial-proportionality guarantee (1).It uses Algorithm 3. Its input is a multicake and a set of nğ‘›n agents. By repeatedly applying the auction algorithm, it assigns the agents to the subcakessuch that all agents assigned to a subcake value it sufficiently high, as formalized below.

Once the agents are partitioned using Algorithm 3, for each jâˆˆ[m]ğ‘—delimited-[]ğ‘šj\in[m], Zjsubscriptğ‘ğ‘—Z_{j} can be divided among the agents in Wjsubscriptğ‘Šğ‘—W_{j} using any proportional cake-cutting algorithm. Since all these agents value Zjsubscriptğ‘ğ‘—Z_{j} at least |Wj|subscriptğ‘Šğ‘—|W_{j}|, each agent gets a piece valued at least 111, which is at least 1m+nâˆ’1â‹…Viâ€‹(C)â‹…1ğ‘šğ‘›1subscriptğ‘‰ğ‘–ğ¶\frac{1}{m+n-1}\cdot V_{i}(C) as in condition (1).

To prove Theorem 1.2, it is required to guarantee, in addition to (1), also the democratic ownership condition. To this end, Algorithm 3 is replaced with a modified assignment algorithm, presented as Algorithm 4.The main difference is that Algorithm 4 allows each agent jğ‘—j to participate in the auction on the subcake with the same index Zjsubscriptğ‘ğ‘—Z_{j}, even if jğ‘—j was already assigned to a previous subcake Zjâ€²subscriptğ‘superscriptğ‘—â€²Z_{j^{\prime}} for some jâ€²<jsuperscriptğ‘—â€²ğ‘—j^{\prime}<j.If jğ‘—j is one of the winners for Zjsubscriptğ‘ğ‘—Z_{j} (that is, jâˆˆWjğ‘—subscriptğ‘Šğ‘—j\in W_{j}), then jğ‘—j is removed from the previous assignment Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}}.This creates a â€œvacancyâ€ in Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}};this vacancy is filled by running a single step of the auction on Zjâ€²subscriptğ‘superscriptğ‘—â€²Z_{j^{\prime}}.Let iâ€²superscriptğ‘–â€²i^{\prime} be the first unassigned agent who did not win the first auction on Zjâ€²subscriptğ‘superscriptğ‘—â€²Z_{j^{\prime}} (â€œfirstâ€ by the Ïƒğœ\sigma ordering in that auction). Recall that, by condition (b) of the auction algorithm,Viâ€²â€‹(Zjâ€²)<|Wjâ€²|+1subscriptğ‘‰superscriptğ‘–â€²subscriptğ‘superscriptğ‘—â€²subscriptğ‘Šsuperscriptğ‘—â€²1V_{i^{\prime}}(Z_{j^{\prime}})<|W_{j^{\prime}}|+1 held before jğ‘—j was removed from Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}}.If the condition does not hold after jğ‘—j is removed (that is: if Viâ€²â€‹(Zjâ€²)â‰¥|Wjâ€²|+1subscriptğ‘‰superscriptğ‘–â€²subscriptğ‘superscriptğ‘—â€²subscriptğ‘Šsuperscriptğ‘—â€²1V_{i^{\prime}}(Z_{j^{\prime}})\geq|W_{j^{\prime}}|+1 after the removal), then iâ€²superscriptğ‘–â€²i^{\prime} is added to Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}}.This step guarantees that both conditions (a) and (b) still hold for Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}}, that is: Viâ€²â€‹(Zjâ€²)â‰¥|Wjâ€²|subscriptğ‘‰superscriptğ‘–â€²subscriptğ‘superscriptğ‘—â€²subscriptğ‘Šsuperscriptğ‘—â€²V_{i^{\prime}}(Z_{j^{\prime}})\geq|W_{j^{\prime}}| for all iâ€²âˆˆWjâ€²superscriptğ‘–â€²subscriptğ‘Šsuperscriptğ‘—â€²i^{\prime}\in W_{j^{\prime}}, and Viâ€²â€²â€‹(Zjâ€²)<|Wjâ€²|+1subscriptğ‘‰superscriptğ‘–â€²â€²subscriptğ‘superscriptğ‘—â€²subscriptğ‘Šsuperscriptğ‘—â€²1V_{i^{\prime\prime}}(Z_{j^{\prime}})<|W_{j^{\prime}}|+1 for all iâ€²â€²superscriptğ‘–â€²â€²i^{\prime\prime} who are not assigned yet.

This new winner iâ€²superscriptğ‘–â€²i^{\prime}, who is added to Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}}, might be the agent jâ€²superscriptğ‘—â€²j^{\prime} itself, who is already assigned to another set Wjâ€²â€²subscriptğ‘Šsuperscriptğ‘—â€²â€²W_{j^{\prime\prime}}.In this case, moving the agent jâ€²superscriptğ‘—â€²j^{\prime} from Wjâ€²â€²subscriptğ‘Šsuperscriptğ‘—â€²â€²W_{j^{\prime\prime}} to Wjâ€²subscriptğ‘Šsuperscriptğ‘—â€²W_{j^{\prime}} creates a vacancy in Wjâ€²â€²subscriptğ‘Šsuperscriptğ‘—â€²â€²W_{j^{\prime\prime}}, which has to be filled in the same way. This chain reaction must eventually end, since whenever a vacancy is created, the number of agents jğ‘—j who are assigned to the subset with the same index Zjsubscriptğ‘ğ‘—Z_{j} increases by one, and this number never decreases as no agent jğ‘—j is ever removed from Wjsubscriptğ‘Šğ‘—W_{j}.

The correctness of Algorithm 4 is proved formally below.

The above lemmas and algorithms are used to prove the following theorem.

Each subcake Zjâ€²subscriptsuperscriptğ‘â€²ğ‘—Z^{\prime}_{j} is divided proportionally among the agents in Wjsubscriptğ‘Šğ‘—W_{j}.By Lemma 4(a), all these agents value Zjâ€²subscriptsuperscriptğ‘â€²ğ‘—Z^{\prime}_{j} at least |Wj|subscriptğ‘Šğ‘—|W_{j}|. Hence, their piece has a value of at least 111. By the normalization step (with m=nğ‘šğ‘›m=n), 1â‰¥12â€‹nâˆ’1â€‹Viâ€‹(C)>Viâ€‹(C)/(2â€‹n)112ğ‘›1subscriptğ‘‰ğ‘–ğ¶subscriptğ‘‰ğ‘–ğ¶2ğ‘›1\geq\frac{1}{2n-1}V_{i}(C)>V_{i}(C)/(2n).

Applying the pigeonhole principle to the partition yielded by Algorithm 4implies that, for every integer dâˆˆ{1,â€¦,nâˆ’1}ğ‘‘1â€¦ğ‘›1d\in\{1,\dots,n-1\}, at most dğ‘‘d of the subsets Wjsubscriptğ‘Šğ‘—W_{j}, for jâˆˆ[n]ğ‘—delimited-[]ğ‘›j\in[n], are populated by at least âŒˆndâŒ‰ğ‘›ğ‘‘\lceil{n\over d}\rceil agents. Hence, at least nâˆ’dğ‘›ğ‘‘n-d such subsets are populated by at most âŒˆndâŒ‰âˆ’1ğ‘›ğ‘‘1\lceil{n\over d}\rceil-1 agents, that is, they satisfy |Wj|â‰¤âŒˆndâŒ‰âˆ’1subscriptğ‘Šğ‘—ğ‘›ğ‘‘1|W_{j}|\leq\lceil{n\over d}\rceil-1.For each jâˆˆ[n]ğ‘—delimited-[]ğ‘›j\in[n], consider two cases:Case #1: jâˆˆWjğ‘—subscriptğ‘Šğ‘—j\in W_{j}.Then agent jğ‘—j receives a piece of the subcake Zjâ€²subscriptsuperscriptğ‘â€²ğ‘—Z^{\prime}_{j}.By the proportionality of the subcake division(Algorithm 5, step 4):Vjâ€‹(Xj)â‰¥Vjâ€‹(Zjâ€²)|Wj|â‰¥Vjâ€‹(Zjâ€²)âŒˆndâŒ‰âˆ’1>Vjâ€‹(Zjâ€²)âŒˆndâŒ‰.subscriptğ‘‰ğ‘—subscriptğ‘‹ğ‘—subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—subscriptğ‘Šğ‘—subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—ğ‘›ğ‘‘1subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—ğ‘›ğ‘‘\displaystyle V_{j}(X_{j})\geq\frac{V_{j}(Z^{\prime}_{j})}{|W_{j}|}\geq\frac{V_{j}(Z^{\prime}_{j})}{\lceil{n\over d}\rceil-1}>\frac{V_{j}(Z^{\prime}_{j})}{\lceil{n\over d}\rceil}.Case #2: jâˆ‰Wjğ‘—subscriptğ‘Šğ‘—j\not\in W_{j}. Then,by Lemma 4(b),Vjâ€‹(Zjâ€²)<|Wj|+1â‰¤âŒˆndâŒ‰subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—subscriptğ‘Šğ‘—1ğ‘›ğ‘‘V_{j}(Z^{\prime}_{j})<|W_{j}|+1\leq\lceil{n\over d}\rceil.Therefore,Vjâ€‹(Zjâ€²)/âŒˆndâŒ‰<1subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—ğ‘›ğ‘‘1V_{j}(Z^{\prime}_{j})/\lceil{n\over d}\rceil<1.As explained in the proof of 1/2121/2 proportionality, the value of each agent is at least 111:Vjâ€‹(Xj)â‰¥1>Vjâ€‹(Zjâ€²)âŒˆndâŒ‰.subscriptğ‘‰ğ‘—subscriptğ‘‹ğ‘—1subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—ğ‘›ğ‘‘\displaystyle V_{j}(X_{j})\geq 1>\frac{V_{j}(Z^{\prime}_{j})}{\lceil{n\over d}\rceil}.

In both cases, agent jğ‘—j receives a value greater than Vjâ€‹(Zjâ€²)/âŒˆndâŒ‰subscriptğ‘‰ğ‘—subscriptsuperscriptğ‘â€²ğ‘—ğ‘›ğ‘‘V_{j}(Z^{\prime}_{j})/\lceil{n\over d}\rceil.The latter ratio is at least Vjâ€‹(Zj)/âŒˆndâŒ‰subscriptğ‘‰ğ‘—subscriptğ‘ğ‘—ğ‘›ğ‘‘V_{j}(Z_{j})/\lceil{n\over d}\rceil since Zjâ€²âŠ‡Zjsubscriptğ‘ğ‘—subscriptsuperscriptğ‘â€²ğ‘—Z^{\prime}_{j}\supseteq Z_{j}.

The auction in Algorithm 2 requires Oâ€‹(nâ€‹logâ¡n)ğ‘‚ğ‘›ğ‘›O(n\log n) queries.Algorithm 4performs mğ‘šm auctions.Each auction might lead to a sequence of at most nğ‘›n vacancies which require one query each to be filled.Algorithm Evenâ€“Paz requires Oâ€‹(nâ€‹logâ¡n)ğ‘‚ğ‘›ğ‘›O(n\log{n}) queries, and it is done mğ‘šm timesâ€”once for each subcake.All in all, the run-time is in Oâ€‹(mâ€‹nâ€‹logâ¡n)=Oâ€‹(n2â€‹logâ¡n)ğ‘‚ğ‘šğ‘›ğ‘›ğ‘‚superscriptğ‘›2ğ‘›O(mn\log{n})=O(n^{2}\log{n}), since m=nğ‘šğ‘›m=n.âˆ

Algorithm 5treats each existing piece Zjsubscriptğ‘ğ‘—Z_{j} as an isolated subcake, and insists that each new piece be entirely contained in an existing piece, i.e, it does not cross the existing division lines. This may be desirable in the context of land division, since it respects the Uti possidetis juris(Lalonde, 2002)â€”an international law principle saying that newly-formed sovereign states should retain the internal borders that their preceding dependent area had before their independence.However, it also implies that the resulting division can only be 1/2121/2-proportional and never fully proportional,as the fraction 1n+mâˆ’11ğ‘›ğ‘š1\frac{1}{n+m-1} in (1) is tight.

Theoretically, it may be possible to improve the proportionality guarantee by devising a different redivision procedure that crosses the existing division lines.This raises the following open question: what is the highest level of proportionality that is compatible with democratic-ownership?

Theorem 1.1 allows an unlimited number of pieces per agent,666In fact, 4â€‹nâˆ’34ğ‘›34n-3 pieces per agent are sufficient. It is known that, for every pair of agents, an allocation with different entitlements can be attained with two cuts, e.g. (Segal-Halevi, 2019). So each agent receives at most 222 pieces. In Algorithm 1, each agent participates in 2â‹…(nâˆ’1)â‹…2ğ‘›12\cdot(n-1) such allocation instances, and gets one additional piece.while Theorem 1.2 allows only a single piece per agent. What happens between these extremes?In particular, if each agent can get kğ‘˜k intervals, for some fixed kâ‰¥1ğ‘˜1k\geq 1, thenthere is an algorithm for dividing a multicake with mğ‘šm subcakes among nğ‘›n agents such that each agent gets at leastminâ¡(1n,km+nâˆ’1)1ğ‘›ğ‘˜ğ‘šğ‘›1\min\left(\frac{1}{n},\frac{k}{m+n-1}\right) of the total cake value(Segal-Halevi, 2021).However, the algorithm does not guarantee democratic ownership.If a similar proportionality guarantee could be attained together with democratic ownership, it could be used in Section 4 with m=kâ‹…nğ‘šâ‹…ğ‘˜ğ‘›m=k\cdot n subcakes (since for each agent there could be up to kğ‘˜k subcakes in the original division), to get a bound of kkâ€‹n+nâˆ’1ğ‘˜ğ‘˜ğ‘›ğ‘›1\frac{k}{kn+n-1}, which implies kk+1ğ‘˜ğ‘˜1\frac{k}{k+1}-proportionality for any kâ‰¥1ğ‘˜1k\geq 1.

In this section the cake is a polygon in â„2superscriptâ„2\mathbb{R}^{2}.There is a set Sğ‘†S of usable pieces (e.g. rectangles), the initial allocation Z1,â€¦,Znsubscriptğ‘1â€¦subscriptğ‘ğ‘›Z_{1},\ldots,Z_{n} is an Sğ‘†S-allocation, and the output should be an Sğ‘†S-allocation too.

The main obstacle in applying Algorithm 5 to such a cake is step 2â€”extending the initial partial allocation to a complete partition of the entire cake.It is not possible to simply attach each unallocated part of Cğ¶C to an allocated Sğ‘†S-piece, since the result might not be an Sğ‘†S-piece.The initial partial allocation Z1âŠ”â‹¯âŠ”ZnâŠ†Csquare-unionsubscriptğ‘1â‹¯subscriptğ‘ğ‘›ğ¶Z_{1}\sqcup\cdots\sqcup Z_{n}\subseteq C still must be expanded to a complete partition of Cğ¶C, since Algorithm 5 uses Algorithm 4, which requires a complete partition.But the number of pieces in the complete partition might be larger than nğ‘›n, since there might be unattached â€œblanksâ€ (holes).

The goal, then, is to find a partition of Cğ¶C into Sğ‘†S-pieces, Z1â€²âŠ”â‹¯âŠ”Zn+bâ€²=Csquare-unionsuperscriptsubscriptğ‘1â€²â‹¯superscriptsubscriptğ‘ğ‘›ğ‘â€²ğ¶Z_{1}^{\prime}\sqcup\cdots\sqcup Z_{n+b}^{\prime}=C, with bâ‰¥0ğ‘0b\geq 0, such that every input Sğ‘†S-piece is contained in a unique output Sğ‘†S-piece: âˆ€jâˆˆ[n]:ZjâŠ†Zjâ€²:for-allğ‘—delimited-[]ğ‘›subscriptğ‘ğ‘—superscriptsubscriptğ‘ğ‘—â€²\forall j\in[n]:Z_{j}\subseteq Z_{j}^{\prime}. The additional bğ‘b Sğ‘†S-pieces are called blanks. In Step 3, the multicake will contain m=n+bğ‘šğ‘›ğ‘m=n+b subcakes.Hence, the fraction guaranteed to each agent will be 1/(n+mâˆ’1)=1/(2â€‹n+bâˆ’1)1ğ‘›ğ‘š112ğ‘›ğ‘11/(n+m-1)=1/(2n+b-1). A smaller value of bğ‘b translates to a better proportionality guarantee.

An example of the input and output of the allocation-completion step,when Sğ‘†S is the set of rectangles, is shown in Figure 4.In the partial allocation there are n=4ğ‘›4n=4 rectangles;in the complete partition there are m=5ğ‘š5m=5 rectangles.

This raises the question of what is the minimum number of blanks required for a complete partition?This geometric question has been studied in a different paper (Akopyan andSegal-Halevi, 2018).The answers are summarized inTable 1.777The expressions in Table 1 are tight in the worst case: there are partial allocations that require exactly this number of blanks.Moreover, it is proved there that the worst-case optimal number of blanks is attained in any arrangement in which all pieces are maximal, that is, cannot be expanded without overlapping another piece. Formally:

Complete expansions are used to proveTheorems 1.3, 1.4 and 1.5 below.

The results in this section raise several future work questions, which may be of interest to researchers in computational geometry.

While the bounds in Table 1 are worst-case optimal, in specific instances there may be a maximal expansion with fewer blanks.What is an efficient algorithm for finding a maximal expansion of a given allocation, which has the smallest number of blanks possible in the given instance?

When the cake and the pieces are general polygons, or hole-free (simply-connected) polygons, but not necessarily convex,there exists a maximal expansion with no blanks at all (Table 1).Using such an expansion, one could expect tofind an allocation satisfying democratic ownership and 1/2121/2-proportionality.However, this requires to apply the Evenâ€“Paz algorithm to a non-convex polygon such that the pieces remain connected (or simply-connected);cutting along the y axis (as in the rectangle and convex cases) might yield disconnected pieces.One way to partition a polygon into connected pieces is to map each point pğ‘p of the polygon to the point nearest to pğ‘p on the polygon perimeter, as in Figure 5.

Then, the perimeter can be partitioned like a 1-dimensional interval.Har-Peled (2021) and Yagami (2021) present sketches of how this can be done, but again, they were not formally published so I do not claim any result for the cases in which Sğ‘†S is the family of connected polygons, or of simply-connected polygons.

When the cake and pieces are three-dimensional (e.g. axes-parallel boxes), what is an upper bound on the number of blanks in a maximal expansion of a partial allocation?

This section uses the redivision theorems of previous sections to prove upper bounds on the price of partial/proportionality.

The proofs of Theorems 1.7, 1.8 and 1.9 are similar; only the constants are different.The proof of Theorem 1.8 is presented below; to get the proofs of the other theorems, replace the constant â€œ3â€ with â€œ2â€ or â€œ4â€ respectively.

Theorems 1.6â€“1.9invoke the question of whether the upper bounds proved in them are tight.

There is a lower bound of Î©â€‹(n)Î©ğ‘›\Omega(\sqrt{n}) on the utilitarian price of proportionalityfor a cake with no geometric constraints(Caragiannis et al., 2012),as well as for an interval cake and interval pieces (Aumann and Dombb, 2015).However, these lower bounds do not imply similar lower bounds for partial proportionality.In fact, without geometric constraints, our Theorem 1.6 shows that the price of partial-proportionality is Oâ€‹(1)ğ‘‚1O(1).Therefore, it is interesting to know which of the following two options is correct for a cake with geometric constraints (e.g. interval cake and interval pieces):1.There is a lower bound of Î©â€‹(n)Î©ğ‘›\Omega(\sqrt{n}) matching Theorems 1.7â€“1.9, or â€”2.The actual price of partial/proportionality is oâ€‹(n)ğ‘œğ‘›o(\sqrt{n}), maybe even Oâ€‹(1)ğ‘‚1O(1).The latter option is particularly attractive, since it may lead to a feasible and practical compromise between fairness and social welfare.

It is knownthat without geometric constraints, every Nash-optimal allocation is envy-free; see e.g. Sziklai andSegal-Halevi (2019).Hence, such allocation is proportional, so the Nash price of rğ‘Ÿr-proportionality is 1 for any râˆˆ[0,1]ğ‘Ÿ01r\in[0,1]. However, this is not true when the pieces must be connected (or rectangular, or convex).Appendix A shows several lower bounds on the Nash price of rğ‘Ÿr-proportionality with connectivity constraints. However, there is a substantial gap between these lower bounds and the upper bounds proved above.

The cake redivision problem differs from several division problems studied recently.

1. Dynamic resource allocation (Kash et al., 2014; Friedman et al., 2015, 2017; Huo et al., 2020) is a common problem in cloud-computing environments. The server has several resources, such as memory and disk-space. Agents (processes) come and depart. The server has to allocate the resources fairly among agents. When new agents come, the server may have to take some resources from existing agents. The goal is to do the re-allocation with minimal disruption to existing agents. In these problems, the resources are homogeneous, which means that the only thing that matters is what quantity of each resource is given to each agent. In contrast, the present paper considers a heterogeneous cake, so the algorithms must decide which parts of the cake should be given to which agent.

2. Population monotonicity (Thomson, 1983; Moulin, 1990, 2004; Thomson, 2011; Sziklai andSegal-Halevi, 2018, 2019) is an axiom that describes a desired property of allocation rules. When new agents arrive and the same division rule is re-activated, the value of all old agents should be weakly smaller than in the initial allocation. This axiom represents the virtue of solidarity: if sacrifices have to be made to support an additional agent, then everybody should contribute.

Population monotonicity is related to a special case of the redivision model, in which the new agents have no share at all in the initial allocation. However, the redivision model differs in two important aspects.First, even in the special case of new agents with no initial share, there is no upper bound on the value allocated to the incumbent agents. On the contrary, the ownership requirements puts a lower bound on their value in the new allocation.Second, the redivision model is more general, and relates to settings in which all agents already have a (possibly unfair) share in the initial allocation.

3. Private endowment in economics resource allocation problems means that each agent is endowed with an initial bundle of resources. Then, agents exchange resources using a market mechanism. The classic problem in economics involves homogeneous resources, but it has also been studied in the cake-cutting framework (Berliant andDunz, 2004; Aziz and Ye, 2014). A basic requirement in these works is individual rationality, which means that the final value allocated to each agent must be weakly larger than the value of the initial endowment (note the contrast with the population monotonicity axiom).This requirement is not made in the redivision problem as it is incompatible with fairness: since some agents may initially own no land, individual rationality would mean that they might not receive anything in the exchange.

4. Online divisionis a setting in which either the agents or the divided resources are not all available at the time of the division, but rather arrive at different times.Walsh (2011) studies the online division of a divisible resource. The motivation is a birthday party in an office, in which some agents come or leave early while others come or leave late. It is required to give some cake to agents who come early while keeping a fair share to those who come late.Aleksandrov et al. (2015) and Benade et al. (2018) study the online division of indivisible items. The motivationis the food-bank problem, where a charity organization receives food donations and must decide on-line to whom each donation should be allocated.In these papers, in contrast to the present paper, it is impossible to re-divide allocated resources, since they are consumed by their receivers.

5. Land reform is the re-division of land among citizens. It has been attempted in numerous countries around the globe and in many periods throughout history. Some books on land reform are Powelson (1988); Bernstein (2002); Rosset et al. (2006); Lipton (2009).The earliest recorded land-reform was done in ancient Egypt in the times of King Bakenranef, 8th century BC. The most recent land-reform act has been legislated in Scotland in 2016 AD.Balancing fairness and ownership rights is a major concern in such reforms (Sellar, 2006; Hoffman, 2013; Wightman, 2015; MacInnes and Shields, 2015).

While proportionality is the most common criterion of fair cake-cutting, it is often relaxed to partial/proportionality in order to achieve additional goals:

1. Speed:finding a proportional division takes Î˜â€‹(nâ€‹logâ¡n)Î˜ğ‘›ğ‘›\Theta(n\log{n}) queries, but finding an rğ‘Ÿr-proportional division takes only Î˜â€‹(n)Î˜ğ‘›\Theta(n) queries, for some sufficiently small râ‰¤0.1ğ‘Ÿ0.1r\leq 0.1(Edmonds and Pruhs, 2006; Edmonds et al., 2008).

2. Improving social welfare:proportional allocations may be socially inefficient; efficiency can be improved by decreasing the value-guarantee per agent (Zivan, 2011; Arzi, 2012).

3. Minimum-size constraint:In some 1-dimensional settings, each agent may get several intervals but the length of each interval should be above a threshold. It is impossible to guarantee an rğ‘Ÿr-proportional allocation for any r>0ğ‘Ÿ0r>0, but additive approximations exist (Caragiannis et al., 2011).

4. Geometric constraints: For example, when the cake is square and the pieces must be square, it is impossible to guarantee an rğ‘Ÿr-proportional allocation for any r>1/2ğ‘Ÿ12r>1/2, but there is an algorithm that guarantees a 1/4141/4-proportional allocation(Segal-Halevi et al., 2017, 2020).When the cake is a connected graph, and the pieces must be connected, there is an algorithm that guarantees each agent at least 1/(2â€‹nâˆ’1)12ğ‘›11/(2n-1) of the total value, and it is impossible to guarantee more than that (Bei and Suksompong, 2021).

While most works on fair division aim to guarantee unanimous fairness, this is not always compatible with other requirements. Hence, some works explore the possibility of guaranteeing fairness to a subset of the agents, which shouldâ€”ideallyâ€”be as large as possible. Some examples are:

1. Envy-free allocation of multiple cakes (where each agent should receive a piece in each cake) to (n+1)/2ğ‘›12(n+1)/2 agents(Nyman et al., 2020).

2. Maximin-share fair allocation of indivisible objects to nâˆ’1ğ‘›1n-1 or 2â€‹n/32ğ‘›32n/3 agents(Searns, 2020; Hosseini and Searns, 2020).

3. Stable matching rules that guarantee resource-monotonicity to n/2ğ‘›2n/2 agents(Ortega, 2018).

4. Pricing rules that are envy-free to a pre-selected subset of the buyers (BilÃ² et al., 2018).

The most prominent cake-model is a one-dimensional interval, in which case the pieces are often required to be contiguous sub-intervals. Some exceptions are:

1. The cake is a 1-dimensional circle (â€œpieâ€) and the pieces are contiguous arcs(Thomson, 2007; Brams et al., 2008; Barbanel et al., 2009; Elkind et al., 2021).

2. The cake is the union of edges of a connected graph, and the pieces are contiguous sub-graphs(Bei and Suksompong, 2021).

3. The cake is a 2-dimensional territory that lies among several countries. Each country should receive a piece adjacent to its border (Hill, 1983; Beck, 1987).

4. The cake is 2-dimensional and the pieces are rectangles determined by the agents (Iyer and Huhns, 2009).

5. The cake is 2-dimensional and the pieces must be squares or fat polygons (Segal-Halevi et al., 2017, 2020).

6. The cake is 2-dimensional; the geometric constraints are connectivity or convexity (Devulapalli, 2014).

7. The cake is multi-dimensional and the pieces are simplices or polytopes(Berliant et al., 1992; Ichiishi andIdzik, 1999; Dallâ€™Aglio andMaccheroni, 2009).

Very recently, geometric fair division problems have been studied based on real two-dimensional land-value data (Aleskerov andShvydun, 2019; Shtechman et al., 2021).

Many natural 2-dimensional settings have not been studied yet. For example, the setting studied in Section 5,where the cake is a rectilinear polygon and the pieces should be rectangles, has not been studied.As shown by Figure 1, there is a qualitative (not only quantitative) difference between 2-D and 1-D division.2-D division introduces interesting paradoxes, that might be missed by the habit of assuming a one-dimensional cake.

It is important to distinguish geometric cake-cutting from the geometric knapsack problem (Arkin et al., 1993; Adamaszek andWiese, 2015).In the latter there is a single value-function that should be optimized. In cake-cutting, there are nğ‘›n agents with different value-functions, and the goal is to guarantee each agent a value higher than some threshold.

The price-of-fairness in cake-cutting has been studied in two settings:â€¢The cake is a one-dimensional interval and the pieces must be intervals Aumann and Dombb (2015). The utilitarian-price-of-proportionality in this case is Î˜â€‹(n)Î˜ğ‘›\Theta(\sqrt{n}).â€¢The cake is arbitrary and the pieces may be arbitrary Caragiannis et al. (2012). The utilitarian-price-of-proportionality in this case is Î˜â€‹(n)Î˜ğ‘›\Theta(\sqrt{n}) too.Both papers study the price of other fairness criteria such as envy-freeness and equitability, but do not study the price in Nash-welfare, and do not handle two-dimensional geometric constraints such as rectangularity or convexity.

The price of fairness was also studied in the context of allocating homogeneous resources (Bertsimas et al., 2011, 2012), fair subset sum (Nicosia et al., 2017), kidney exchange (Dickerson et al., 2014),connected chore cutting (Heydrich and vanStee, 2015),indivisible object allocation (Caragiannis et al., 2012; Kurz, 2016; Bei et al., 2019b; Suksompong, 2019; Barman et al., 2020),budget division (Michorzewski et al., 2020; Tang et al., 2020)and machine scheduling (Agnetis et al., 2019; Zhang et al., 2020).

A related notionâ€”the price of connectivityâ€”was studied both for cake-cutting (Arunachaleswaran andGopalakrishnan, 2018) and for indivisible objects (Bei et al., 2019a).

The Nash-price of fairness is related to results about approximating the maximum Nash welfare with indivisible goods. The approximation factors range from 2.892.892.89 (Cole andGkatzelis, 2015) to eğ‘’e (Anari et al., 2017) to 222 (Cole et al., 2017; McGlaughlin andGarg, 2020; Caragiannis et al., 2019) to 1.451.451.45 (Barman et al., 2018).

Several authors study the algorithmic problem of finding a welfare/maximizing cake-allocation in various settings:

1.  The cake is an interval and the pieces must be connected (Aumann et al., 2013);

2.  The cake is an interval and the pieces must be connected, and additionally, the division must be proportional (Bei et al., 2012);

3.  The cake and pieces are arbitrary, and the division must be envy-free (Cohler et al., 2011).

4.  The cake and pieces are arbitrary, and the division must be equitable (Brams et al., 2012).

Besides the open questions mentioned in subsections 4.1, 5.1 and 6.1,it may be interesting to study the redivision problem with other requirements besides proportionality.

Envy-freeness means that each agent values their piece at least as much as each of the other pieces. Similarly, rğ‘Ÿr-envy-freeness means that each agent values their piece as at least rğ‘Ÿr times the value of each of the other pieces. For what pairs r,wğ‘Ÿğ‘¤r,w is rğ‘Ÿr-envy-freeness compatible with wğ‘¤w-ownership? With democratic-ownership?

One issue with envy-freeness is that the redivision problem is inherently asymmetric: agents whose initial piece is valuable are entitled to a higher final value than agents whose initial piece is empty.A potentially useful notion here is justified envy, which has been recently studied in the literature on two-sided matching (AbdulkadiroÄŸlu et al., 2020).In two-sided matching (for example, between doctors and hospitals), â€œjustified envyâ€ means that doctor d1subscriptğ‘‘1d_{1}, who is matched to hospital h1subscriptâ„1h_{1}, envies doctor d2subscriptğ‘‘2d_{2}, who is matched to hospital h2subscriptâ„2h_{2}, and at the same time, h2subscriptâ„2h_{2} prefers d1subscriptğ‘‘1d_{1} to d2subscriptğ‘‘2d_{2}.Analogously, one can defined â€œjustified envyâ€ in our setting as some agent iğ‘–i envying another agent jğ‘—j in the final allocation, while iğ‘–iâ€™s initial piece was more valuable than jğ‘—jâ€™s.

From an existential point of view, Pareto-efficiency does not add much difficulty. Both rğ‘Ÿr-proportionality and wğ‘¤w-ownership are preserved by Pareto-improvements. Therefore, if there exists a division satisfying rğ‘Ÿr-proportionality and wğ‘¤w-ownership (or democratic-ownership), then there also exists a Pareto-optimal division satisfying these properties. However, it may not be easy to find such a division algorithmically.